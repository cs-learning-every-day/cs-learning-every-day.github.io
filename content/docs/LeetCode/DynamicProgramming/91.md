> [Link](https://leetcode-cn.com/problems/decode-ways/)

DFS搜索 + 记忆化
![image](https://zxi.mytechroad.com/blog/wp-content/uploads/2017/11/91-ep103-1.png)

```java
class Solution {
    private Map<String, Integer> memo = new HashMap<>();

    public int numDecodings(String s) {
        if (s == null ||ｓ.length() == 0) return 0;
        return dfs(s, 0);
    }

    private int dfs(String s, int i) {
        int n = s.length();

        if (i >= n) return 1;
        if (memo.containsKey(s.substring(i))) return memo.get(s.substring(i));
        if (!isValid(s.charAt(i))) return 0;
        
        int res = dfs(s, i + 1);
        
        if (i < n - 1 && isValid(s.substring(i, i + 2))) {
            res += dfs(s, i + 2);
        }

        memo.put(s.substring(i), res);

        return res;
    }

    private boolean isValid(String s) {
        int val = Integer.valueOf(s);
        return 10 <= val && val <= 26;
    }

    private boolean isValid(char c) {
        int t = c - '0';
        return   1 <= t && t <= 26;
    }
}
```

DP

![image](https://zxi.mytechroad.com/blog/wp-content/uploads/2017/11/91-ep103-2.png)
```java
class Solution {
    public int numDecodings(String s) {
        s = "#" + s;
        int n = s.length();

        // dp[i] = s[0]..s[i]解码方式
        int[] dp = new int[n];
        dp[0] = 1;
        dp[1] = (s.charAt(1) == '0') ? 0 : 1;
        
        for (int i = 2; i < n; i++) {
            if (!isValid(s.charAt(i)) && !isValid(s.charAt(i - 1), s.charAt(i))) {
                return 0;
            }

            if (isValid(s.charAt(i))) {
                dp[i] = dp[i - 1];
            } 

            if (isValid(s.charAt(i - 1), s.charAt(i))) {
                dp[i] += dp[i - 2];
            }

        }

        return dp[n - 1];
    }

    private boolean isValid(char c) {
        return '1' <= c && c <= '9';
    }

    private boolean isValid(char a, char b) {
        int val = (a - '0') * 10 + (b - '0');
        return 10 <= val && val <= 26;
    }
}
```