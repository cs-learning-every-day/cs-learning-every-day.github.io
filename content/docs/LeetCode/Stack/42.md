> [Link](https://leetcode-cn.com/problems/trapping-rain-water/)

![img](https://pic.leetcode-cn.com/560d6232993961a9e95608595013064712e9b7ea769a20175ae68b7fa9510041-%E5%9B%BE%E7%89%87.png)

[Detail](https://leetcode-cn.com/problems/trapping-rain-water/solution/trapping-rain-water-by-ikaruga/)

```java
    public int trap(int[] height) {
        Stack<Integer> st = new Stack<>();
        int ans = 0;
        for (int i = 0; i < height.length; i++) {
            while (!st.isEmpty() && height[st.peek()] < height[i]) {
                int cur = st.pop();
                if (st.isEmpty()) break;
                int l = st.peek();
                int r = i;
                int h = Math.min(height[l], height[r]) - height[cur];
                ans += (r - l - 1) * h;
            }
            st.push(i);
        }
        return ans;
    }
```