
原数组：       [1       2       3       4]
左部分的乘积：   1       1      1*2    1*2*3
右部分的乘积： 2*3*4    3*4      4      1
结果：        1*2*3*4  1*3*4   1*2*4  1*2*3*1


Time Complexity: O(N)
Space Complexity: O(N)
```c++
class Solution {
public:
    vector<int> productExceptSelf(vector<int>& nums) {
        int n = nums.size();
        vector<int> l_values(n, 1), r_values(n, 1);
        for (int i = 1; i < n; i++) {
            l_values[i] = nums[i - 1] * l_values[i - 1];
        }
        
        for (int i = n - 2; i >= 0; i--) {
            r_values[i] = nums[i + 1] * r_values[i + 1];
        }

        vector<int> res(n, 1);
        for (int i = 0; i < n; i++) {
            res[i] = l_values[i] * r_values[i];
        }
        return res;
    }
};
```

前缀和优化
Space Complexity: O(1)
```c++
class Solution {
public:
    vector<int> productExceptSelf(vector<int>& nums) {
        vector<int> res(nums.size(), 1);
        for (int i = 1; i < nums.size(); i++) {
            res[i] = nums[i - 1] * res[i - 1];
        }
        
        for (int i = nums.size() - 2, j = 1; i >= 0; i--) {
            res[i] *= nums[i + 1] * j; j *= nums[i + 1];
        }
        return res;
    }
};
```